{
  "version": 3,
  "sources": ["../../../src/ui/components/item/document.tsx", "../../../src/ui/components/item/curated-product.tsx"],
  "sourcesContent": ["import { Image } from '@crystallize/reactjs-components';\nimport Link from '../../bridge/Link';\nimport { useAppContext } from '../../app-context/provider';\nimport { StorySlim, CuratedStorySlim } from '~/use-cases/contracts/Story';\nimport {\n    choiceComponentWithId,\n    chunksForChunkComponentWithId,\n    itemsForItemRelationComponentWithId,\n    numericValueForComponentWithId,\n    stringForSingleLineComponentWithId,\n} from '~/use-cases/mapper/api-mappers';\nimport { ItemViewComponentProps } from '../../lib/grid-tile/types';\nimport { CuratedProduct } from './curated-product';\nimport { DataMapper } from '~/use-cases/mapper';\nimport { ProductSlim } from '~/use-cases/contracts/Product';\nimport { Product } from './product';\n\nconst DefaultDocument: React.FC<{ item: StorySlim | CuratedStorySlim }> = ({ item }) => {\n    const { path } = useAppContext();\n    return (\n        <Link\n            to={path(item.path)}\n            prefetch=\"intent\"\n            className=\"grid min-h-[100%] bg-[#F5F5F5] rounded-md overflow-hidden border border-[#f5f5f5] hover:border-[#000]\"\n        >\n            <div className=\"flex flex-col justify-between items-stretch h-full overflow-hidden w-full\">\n                <div className=\"px-10 pt-20 h-1/3 \">\n                    <h2 className=\"text-2xl font-bold mb-3\">{item.title}</h2>\n                    <p className=\"embed-text\">{item.description?.plainText}</p>\n                </div>\n                <div className=\"pl-10 pt-10 max-w-full h-full min-h-[400px] img-container overflow-hidden rounded-t-l-md img-cover grow\">\n                    <Image\n                        {...item.medias?.images?.[0]}\n                        sizes=\"300px\"\n                        loading=\"lazy\"\n                        className=\"overflow-hidden rounded-tl-md \"\n                    />\n                </div>\n            </div>\n        </Link>\n    );\n};\n\nexport const Document: React.FC<{ item: StorySlim | CuratedStorySlim }> = ({ item }) => {\n    if (item.type === 'curated-product-story') {\n        return <CuratedProduct item={item} />;\n    }\n    return <DefaultDocument item={item} />;\n};\n\nexport const DocumentFromCell: React.FC<ItemViewComponentProps> = ({ item }) => {\n    const mapper = DataMapper();\n    const common = {\n        name: item.name,\n        path: item.path,\n        title: stringForSingleLineComponentWithId(item.components, 'title') || item.name!,\n    };\n\n    if (item.shape.identifier === 'curated-product-story') {\n        const intro = item.components.find((c: any) => c.id === 'description')?.content;\n        const media = item.components.find((c: any) => c.id === 'shoppable-image')?.content;\n        return (\n            <Document\n                item={{\n                    ...common,\n                    description: intro,\n                    type: 'curated-product-story',\n                    medias: {\n                        images: mapper.API.Object.APIImageToImage(media.images),\n                        videos: [],\n                    },\n                    merchandising:\n                        chunksForChunkComponentWithId(item.components, 'merchandising')?.map((chunk) => {\n                            return {\n                                products:\n                                    itemsForItemRelationComponentWithId(chunk, 'products')?.map((product: any) => {\n                                        return {\n                                            id: product.id,\n                                            name: product.name,\n                                            path: product.path,\n                                            variant: mapper.API.Object.APIProductVariantToProductVariant(\n                                                product.defaultVariant,\n                                            ),\n                                            topics: [],\n                                        };\n                                    }) || [],\n                                x: numericValueForComponentWithId(chunk, 'hotspot-x') || 0,\n                                y: numericValueForComponentWithId(chunk, 'hotspot-y') || 0,\n                            };\n                        }) || [],\n                }}\n            />\n        );\n    }\n\n    const intro = item.components.find((c: any) => c.id === 'intro')?.content;\n    const media = choiceComponentWithId(item.components, 'media');\n    return (\n        <Document\n            item={{\n                ...common,\n                description: intro,\n                type: 'story',\n                medias: {\n                    images: media ? mapper.API.Object.APIImageToImage(media.content.images) : [],\n                    videos: [],\n                },\n            }}\n        />\n    );\n};\n", "import { Image } from '@crystallize/reactjs-components';\nimport Link from '../../bridge/Link';\nimport { useAppContext } from '../../app-context/provider';\nimport { CuratedStorySlim } from '~/use-cases/contracts/Story';\n\nexport const CuratedProduct: React.FC<{ item: CuratedStorySlim }> = ({ item }) => {\n    const { state: contextState, path } = useAppContext();\n\n    const title = item.title;\n    const description = item.description.plainText;\n    const shoppableImage = item.medias.images?.[0];\n    let merchandising = item.merchandising;\n\n    return (\n        <Link\n            to={path(item.path)}\n            prefetch=\"intent\"\n            className=\"grid min-h-[100%] w-full bg-[#F5F5F5] relative rounded-md border border-[#f5f5f5] hover:border-[#000]\"\n        >\n            <div className=\"flex flex-col justify-between items-stretch h-full w-full\">\n                <div className=\"px-10 pt-20 pb-6 \">\n                    {title && <h2 className=\"text-2xl font-bold mb-3\">{title}</h2>}\n                    {description && <p className=\"embed-text\">{description}</p>}\n                </div>\n                <div className=\"img-container pl-10 w-full lg:col-span-3 self-start rounded-tl-lg relative\">\n                    <div className=\"absolute h-full w-full frntr-hotspot frntr-hotspot-microformat\">\n                        {merchandising?.map((merch, i) => (\n                            <span\n                                key={`hotspot-${merch?.x}-${merch?.y}`}\n                                style={{ left: merch?.y + `%`, top: merch?.y + '%' }}\n                            >\n                                <div className=\"rounded-sm shadow-sm px-2 pt-2 \">\n                                    {merch?.products?.map((product) => (\n                                        <div className=\"flex items-center gap-2 pb-2\" key={product.id}>\n                                            <div className=\"img-container img-cover w-[30px] h-[40px]\">\n                                                <Image\n                                                    {...product?.variant?.images?.[0]}\n                                                    sizes=\"100px\"\n                                                    loading=\"lazy\"\n                                                    fallbackAlt={product?.name}\n                                                />\n                                            </div>\n                                            <div>\n                                                <div className=\"text-xs\">{product?.name}</div>\n                                                <div className=\"text-xs font-bold\">\n                                                    {contextState.currency.code}{' '}\n                                                    {product?.variant?.priceVariants.default.value}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    ))}\n                                </div>\n                            </span>\n                        ))}\n                    </div>\n                    <Image {...shoppableImage} sizes=\"50vw\" fallbackAlt={title} />\n                </div>\n            </div>\n        </Link>\n    );\n};\n"],
  "mappings": "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",
  "names": ["import_reactjs_components", "_a", "import_jsx_dev_runtime", "intro", "media", "_a"]
}
