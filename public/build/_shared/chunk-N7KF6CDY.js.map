{
  "version": 3,
  "sources": ["../../../src/ui/hooks/useRemoteCart.ts"],
  "sourcesContent": ["import { useLocalCart } from '../hooks/useLocalCart';\nimport { useEffect, useState } from 'react';\nimport { useAppContext } from '../app-context/provider';\nimport { ServiceAPI } from '~/use-cases/service-api';\n\nexport function useRemoteCart(): { loading: boolean; remoteCart: any | null } {\n    const { cart, setWrappingData } = useLocalCart();\n    const { state: appContextState } = useAppContext();\n    const [state, setState] = useState({\n        loading: true,\n        hydratedCart: null,\n    });\n    useEffect(() => {\n        (async () => {\n            setState({\n                ...state,\n                loading: true,\n            });\n            const api = ServiceAPI({\n                language: appContextState.language,\n                serviceApiUrl: appContextState.serviceApiUrl,\n            });\n            const cartWrapper = await api.fetchRemoteCart(cart);\n            if (cart.cartId !== cartWrapper.cartId || cart.state !== cartWrapper.state) {\n                setWrappingData(cartWrapper.cartId, cartWrapper.state);\n            }\n            setState({\n                ...state,\n                loading: false,\n                hydratedCart: cartWrapper,\n            });\n        })();\n    }, [cart]);\n\n    return {\n        loading: state.loading,\n        remoteCart: state.hydratedCart,\n    };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AACA,mBAAoC;AAI7B,SAAS,gBAA8D;AAC1E,QAAM,EAAE,MAAM,gBAAgB,IAAI,aAAa;AAC/C,QAAM,EAAE,OAAO,gBAAgB,IAAI,cAAc;AACjD,QAAM,CAAC,OAAO,QAAQ,QAAI,uBAAS;AAAA,IAC/B,SAAS;AAAA,IACT,cAAc;AAAA,EAClB,CAAC;AACD,8BAAU,MAAM;AACZ,KAAC,YAAY;AACT,eAAS;AAAA,QACL,GAAG;AAAA,QACH,SAAS;AAAA,MACb,CAAC;AACD,YAAM,MAAM,WAAW;AAAA,QACnB,UAAU,gBAAgB;AAAA,QAC1B,eAAe,gBAAgB;AAAA,MACnC,CAAC;AACD,YAAM,cAAc,MAAM,IAAI,gBAAgB,IAAI;AAClD,UAAI,KAAK,WAAW,YAAY,UAAU,KAAK,UAAU,YAAY,OAAO;AACxE,wBAAgB,YAAY,QAAQ,YAAY,KAAK;AAAA,MACzD;AACA,eAAS;AAAA,QACL,GAAG;AAAA,QACH,SAAS;AAAA,QACT,cAAc;AAAA,MAClB,CAAC;AAAA,IACL,GAAG;AAAA,EACP,GAAG,CAAC,IAAI,CAAC;AAET,SAAO;AAAA,IACH,SAAS,MAAM;AAAA,IACf,YAAY,MAAM;AAAA,EACtB;AACJ;",
  "names": []
}
